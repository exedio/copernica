<?xml version="1.0"?>

<project name="cope" default="compile" basedir=".">

	<target name="lib.compile">
		<mkdir dir="lib/build/classes" />
		<javac srcdir= "lib/src"
				destdir="lib/build/classes"
				deprecation="on"
				debug="on"
				optimize="off">
			<include name="com/**" />
		</javac>
	</target>
	
	<target name="instrument.compile" depends="lib.compile">
		<mkdir dir="instrument/build/classes" />
		<javac srcdir= "instrument/src"
				destdir="instrument/build/classes"
				deprecation="on"
				debug="on"
				optimize="off">
			<include name="com/**" />
			<classpath>
				<pathelement location="lib/build/classes" />
			</classpath>
		</javac>
	</target>
	
	<target name="copernica.compile" depends="lib.compile">
		<mkdir dir="copernica/build/classes" />
		<javac srcdir= "copernica/src"
				destdir="copernica/build/classes"
				deprecation="on"
				debug="on"
				optimize="off">
			<include name="com/**" />
			<classpath>
				<pathelement location="lib/build/classes" />
			</classpath>
		</javac>
	</target>
	
	<target name="compile" depends="lib.compile, instrument.compile, copernica.compile" />
	
	<target name="lib.clean">
		<delete dir="lib/build" />
	</target>

	<target name="instrument.clean">
		<delete dir="instrument/build" />
	</target>

	<target name="copernica.clean">
		<delete dir="copernica/build" />
	</target>

	<target name="clean" depends="lib.clean, instrument.clean, copernica.clean" />
	
	
	<target name="lib.api">

		<delete dir="lib/api" />
		<mkdir  dir="lib/api" />

		<javadoc
				sourcepath="lib/src"
				destdir="lib/api"
				maxmemory="60m"
				private="on"
				author="on"
				use="on"
				version="on"
				windowtitle="Cope with Object Persistence"
				doctitle=   "Cope with Object Persistence&lt;br&gt;API Specification"
				header=     "COPE"
				footer=     "Cope with&lt;br&gt;Object&lt;br&gt;Persistence"
				splitindex="on"
				bottom='&lt;small&gt;&amp;copy; Copyright 2004 &lt;a href="http://www.exedio.com/" target="_top"&gt;exedio&lt;/a&gt; Gesellschaft f&amp;uuml;r Softwareentwicklung mbH. All rights reserved.&lt;small&gt;'
			>
			<package name="com.*" />
			<link href="http://java.sun.com/j2se/1.4.2/docs/api" />
		</javadoc>
	</target>

	<target name="instrument.api">

		<delete dir="instrument/api" />
		<mkdir  dir="instrument/api" />

		<javadoc
				sourcepath="instrument/src"
				destdir="instrument/api"
				maxmemory="60m"
				private="on"
				author="on"
				use="on"
				version="on"
				windowtitle="Cope with Object Persistence"
				doctitle=   "Cope with Object Persistence&lt;br&gt;API Specification"
				header=     "COPE&lt;br&gt;Instrumentor"
				footer=     "Cope with&lt;br&gt;Object&lt;br&gt;Persistence"
				splitindex="on"
				bottom='&lt;small&gt;&amp;copy; Copyright 2004 &lt;a href="http://www.exedio.com/" target="_top"&gt;exedio&lt;/a&gt; Gesellschaft f&amp;uuml;r Softwareentwicklung mbH. All rights reserved.&lt;small&gt;'
			>
			<package name="com.*" />
			<link offline="on" packagelistLoc="lib/api" href="../../lib/api" />
			<link href="http://java.sun.com/j2se/1.4.2/docs/api" />
			<classpath>
				<pathelement location="lib/build/classes" />
			</classpath>
		</javadoc>
	</target>

	<target name="copernica.api">

		<delete dir="copernica/api" />
		<mkdir  dir="copernica/api" />

		<javadoc
				sourcepath="copernica/src"
				destdir="copernica/api"
				maxmemory="60m"
				private="on"
				author="on"
				use="on"
				version="on"
				windowtitle="Copernica"
				doctitle=   "Copernica&lt;br&gt;API Specification"
				header=     "Copernica"
				footer=     "Cope with&lt;br&gt;Object&lt;br&gt;Persistence"
				splitindex="on"
				bottom='&lt;small&gt;&amp;copy; Copyright 2004 &lt;a href="http://www.exedio.com/" target="_top"&gt;exedio&lt;/a&gt; Gesellschaft f&amp;uuml;r Softwareentwicklung mbH. All rights reserved.&lt;small&gt;'
			>
			<package name="com.*" />
			<link offline="on" packagelistLoc="lib/api" href="../../lib/api" />
			<link href="http://java.sun.com/j2se/1.4.2/docs/api" />
			<classpath>
				<pathelement location="lib/build/classes" />
			</classpath>
		</javadoc>
	</target>

	<target name="api" depends="lib.api, instrument.api, copernica.api" />

</project>
